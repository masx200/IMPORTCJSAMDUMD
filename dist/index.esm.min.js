class t extends Error{constructor(t,r){super(t),this.urlorname=r}}function r(r){if(""===r)throw new TypeError(L);if("string"!=typeof r)throw new TypeError(R);const e=U[r];if(e)return Object.freeze(e),e;throw new t(T+r,r)}function e(t){return"object"==typeof t&&"[object Object]"==={}.toString.call(t)&&t instanceof Object}async function n(t,r){return await Promise.all(t.map(t=>r(t)))}async function o(t,r){return await Promise.all(t.map(t=>r(t[0],t[1])))}function i(t){if(""===t)throw new TypeError(L);if("string"!=typeof t)throw new TypeError(R)}const a={};const c=(()=>{let t;try{t=Function("u","return import(u)")}catch(r){t=async function(t){if(""===t)throw new TypeError("\u5b57\u7b26\u4e32\u4e0d\u80fd\u4e3a\u7a7a");if("string"!=typeof t)throw new TypeError("\u53c2\u6570\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32");return t=new URL(t).href,await function(t){const r=Symbol.for("import-"+t);return new Promise((e,n)=>{const o=document.createElement("script");function i(){o.remove(),function(t){try{window.removeEventListener("error",t)}catch(t){}}(a),URL.revokeObjectURL(o.src),o.onload=o.onerror=null}function a(t){n(t.error),i()}window.addEventListener("error",a);const c=function(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}(`import*as m from'${t}';\nwindow[Symbol.for('${"import-"+t}')]=m`);o.type="module",o.src=c,o.async=!0,o.onload=()=>{if(Reflect.has(window,r)){const t=p(window,r);e(t),h(window,r,void 0),i()}},o.onerror=()=>{n(new Error("import load failed from network"+t)),i()},document.head.appendChild(o)})}(t)}}return t})();const u=function(r){if(""===r)throw new TypeError(L);if("string"!=typeof r)throw new TypeError(R);const e=U[r];if(e)return Object.freeze(e),e.default?e.default:e;throw new t(T+r,r)},f=(t,r)=>{i(t);const e=function(t,r){return(String(r).startsWith("./")||String(r).startsWith("../"))&&(String(r).endsWith(".js")||r.endsWith(".mjs")||r.endsWith(".json")||r.endsWith(".css")||r.endsWith(".html")||(r+=".js"),r=new URL(t+r).href),r}(function(t){var r=new URL(t),e=r.pathname.split("/");return e[e.length-1]="",r.origin+e.join("/")}(r),t);return u(e)};function s(t){return Array.isArray(t)&&"[object Array]"==={}.toString.call(t)}function l(t){const r={}.toString.call(t);return"function"==typeof t&&"[object Function]"===r||"[object AsyncFunction]"===r}function y(t,r,e){y.exports={},y.amd=!0,"string"!=typeof t&&(e=r,r=t,t=null),s(r)||(e=r,r=null),!r&&l(e)&&(r=[]);const n=[t,r,e],o=n[1].map(t=>u(t));y.exports=n[2](...o)}function w(t){return!("object"==typeof t&&!Object.keys(t).length&&"{}"===JSON.stringify(t))}function d(t,r){r&&(l(r)||"object"==typeof r)&&Object.keys(r).forEach(e=>{try{m(t,e,{enumerable:!0,get:()=>p(r,e)})}catch(t){}})}y.exports={},y.amd=!0;const{get:p,set:h,defineProperty:m}=Reflect,b=Symbol("type"),g=Symbol("name"),v=Symbol("url"),j=Symbol("source");var S=async(t,r)=>{return await new Promise((function(n,o){return((n,o)=>(async()=>{try{return await(async()=>{let i;try{try{i=await async function(t){const r=p(a,t);if(r)return r;{const r=await fetch(t).then(async r=>{if(!r.ok)throw new Error("fetch failed "+t);return await r.text()});return h(a,t,r),r}}(t)}catch(t){return void o(t)}try{return await(async i=>{let a;const u={[Symbol.toStringTag]:"Module"},s={exports:{[Symbol.toStringTag]:"Module"}};let l;y.exports={};const h=Object.assign(Object.create(null),{default:void 0});try{!function(){const r=new Function("require","define","module","exports",`"use strict";\n/* ${t} */;\n${i};\n/* ${t} */;\n`);l=r.toString(),r.call(s.exports,r=>f(r,t),y,s,u)}();const r=function(t,r,e){if(void 0===y.exports&&(y.exports={}),w(t[0])){return t[0]}if(w(t[1])){return t[1]}if(w(t[2])){return t[2]}}([u||{},s.exports?s.exports:{},y.exports?y.exports:{}]);a="cjs",r&&(!function(t,r){var n;r=p(r,"default")?p(r,"default"):r,n=r,"[object Module]"==={}.toString.call(n)||e(r)||m(t,"default",{enumerable:!0,get:()=>r})}(h,r),d(h,r))}catch(r){try{const t=JSON.parse(i);l=i,a="json",d(h,t)}catch(e){if(!(r instanceof SyntaxError))return void o(r);{const r=t;l=i;try{const t=await c(r);a="esm",d(h,t)}catch(t){return void o(t)}if(void 0===h.default)try{Reflect.defineProperty(h,"default",{enumerable:!1})}catch{}}}}if(Object.defineProperties(h,{[g]:{value:r,writable:!0,enumerable:!1},[v]:{value:t,enumerable:!1},[j]:{value:l,enumerable:!1},[b]:{value:a,enumerable:!1}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&m(h,Symbol.toStringTag,{value:"Module"}),void 0!==r&&(U[r]=h),void 0!==r&&(U[t]=U[r]),h.default&&d(h,h.default),void 0===h.default)try{m(h,"default",{enumerable:!1})}catch(t){}Object.freeze(h),n(h)})(i)}catch(t){return void o(t)}}catch(t){return void o(t)}})()}catch(t){return void o(t)}})())(n,o)}))};const E="\u8f93\u5165\u7684\u7c7b\u578b\u9519\u8bef,\u8f93\u5165\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u6216\u8005\u6570\u7ec4\u6216\u5bf9\u8c61",O="\u4f20\u5165\u7684\u53c2\u6570\u5fc5\u987b\u662f\u4e2aobject";async function x(t,a){if(e(t))return await(async t=>{t=function(t){if("object"!=typeof t)throw new TypeError(O);return JSON.parse(JSON.stringify(t))}(t);const r=Object.entries(t).map(([t,r])=>[r,t]);let e=[];try{e=await o(r,x)}catch(t){e=await o(r,x)}finally{e=await o(r,x)}let n={};return e.forEach(t=>{n[t[g]]=t}),n})(t);if(s(t))return await(async(...t)=>{let r=[];const e=t;try{r=await n(e,x)}catch(t){r=await n(e,x)}finally{r=await n(e,x)}return r})(...t);if("string"==typeof t||"string"==typeof a)return i(t),await(async(t,e)=>(void 0===e&&(e=new URL(t).href),t=new URL(t).href,void 0!==U[e]&&void 0!==U[e].default&&p(U[e],v)===t?r(e):void 0!==U[t]&&void 0!==U[t].default&&p(U[t],v)===t?(U[e]=U[t],h(U[e],g,e),r(t)):await S(t,e)))(t,a);throw new TypeError(E)}const T="Cannot find module in packagestore, \u6a21\u5757\u4ed3\u5e93\u4e2d\u6ca1\u6709\u627e\u5230, ",R="\u53c2\u6570\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32",L="\u5b57\u7b26\u4e32\u4e0d\u80fd\u4e3a\u7a7a";const U={},P=r;export default async function(r,n){let o=0;return await x(r,n).catch(a);async function i(t,r,e,n){try{return await x(t,r).catch(a),await x(e,n)}catch(t){return await x(e,n).catch(a)}}async function a(a){if(o>100)throw new Error("\u5c1d\u8bd5\u52a0\u8f7d,\u5931\u8d25\u6b21\u6570\u8fc7\u591a,\u653e\u5f03\u5c1d\u8bd5!"+JSON.stringify(r)+JSON.stringify(n));if(o++,a instanceof t&&a.urlorname){if(function(t){var r=!1;try{if(""===t)throw new TypeError(L);if("string"!=typeof t)throw new TypeError(R);t=new URL(t).href,r=!0}catch(t){r=!1}return r}(a.urlorname))return await i(a.urlorname,void 0,r,n);if(e(r)&&Reflect.has(r,a.urlorname))return await i(p(r,a.urlorname),a.urlorname,r,n);throw a}throw a}}export{U as PACKAGESTORE,P as REQUIREPACKAGE};
//# sourceMappingURL=index.esm.min.js.map
